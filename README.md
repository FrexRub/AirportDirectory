# Аэропорты России
## карточки аэропортов России

Интернет‑проект [«Аэропорты России»](https://airportcards.ru "https://airportcards.ru") используется для удобного поиска информации об аэропортах и быстрого доступа к данным, связанным с перелётами и географическим расположением. Основная цель проекта — помочь пользователям находить ближайшие к ним аэропорты и получать актуальные сведения о них.

Основные возможности проекта

- Определение ближайших аэропортов: система анализирует местоположение пользователя или введённые им данные и показывает список аэропортов, расположенных поблизости.

- Карточки аэропортов: каждая карточка содержит краткую информацию — название аэропорта, адрес, описание.

- Отображение на карте: пользователь может увидеть местоположение аэропорта и проложить маршрут.

- Информация о рейсах: быстрый доступ к онлайн‑табло вылетов и прилётов, позволяющее отслеживать актуальное расписание.

Проект предназначен для:

- путешественников, которые ищут удобный аэропорт рядом с текущим местоположением или пунктом назначения;

- пассажиров, которым важно следить за статусом рейсов;

- людей, планирующих поездки и маршруты;

- тех, кто хочет быстро получить справочные данные об аэропортах по всей России.

### Техническая часть проекта

Миграция. 
```
docker compose exec app alembic upgrade head
```
При миграции в базу данных заносятся данные городов из файла `city.xlsx`.
Названия городов для быстрого поиска содержаться в файле `cities-data.js`.


Добавление аэропортов.
```
docker compose exec app docker/add_data.sh
```
При добавлении аэропортов их полные названия (данные поля full_name) добавляются в файл `airport_title.txt`.
Для настройки быстрого поиска аэропорта по названию необходимо данные из файла `airport_title.txt` перенести в файл `airport-data.js`.

Выпуск сертификатов
Сертификат от Let's Encrypt для домена airportcards.ru
```
docker run -it --rm --name certbot -v "/opt/webserver/nginx/ssl:/etc/letsencrypt" -v "/opt/webserver/nginx/well-known:/usr/share/nginx/html" certbot/certbot certonly --agree-tos --email frex@mail.ru -d airportcards.ru -d www.airportcards.ru
```

Для продления сертификата используем команду:
```
docker run -it --rm --name certbot -v "/opt/webserver/nginx/ssl:/etc/letsencrypt" -v "/opt/webserver/nginx/well-known:/usr/share/nginx/html" certbot/certbot renew
```

Перечитать конфигурацию nginx для проверки на ошибки
```
docker exec nginx nginx -t
```

Перегрузка nginx
```
docker exec nginx nginx -s reload
```

## Licence

Author: Stanislav Rubtsov